<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SERP Meta Optimizer - AI-Powered Title & Description Generator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #0f172a;
            --bg-secondary: #1e293b;
            --bg-tertiary: #334155;
            --accent-primary: #f59e0b;
            --accent-secondary: #d97706;
            --text-primary: #f8fafc;
            --text-secondary: #cbd5e1;
            --text-muted: #94a3b8;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --border: #475569;
        }

        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 100%);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        header {
            text-align: center;
            margin-bottom: 3rem;
            padding: 2rem 0;
            border-bottom: 1px solid var(--bg-tertiary);
        }

        h1 {
            font-size: 2.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-primary) 0%, #fbbf24 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 0.5rem;
            letter-spacing: -0.02em;
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 1.1rem;
        }

        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        @media (max-width: 968px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
        }

        .card {
            background: var(--bg-secondary);
            border-radius: 16px;
            padding: 2rem;
            border: 1px solid var(--border);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 25px 30px -5px rgba(0, 0, 0, 0.4);
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--bg-tertiary);
        }

        .card-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
        }

        h2 {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--text-primary);
        }

        .input-group {
            margin-bottom: 1.5rem;
        }

        label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-secondary);
            font-weight: 600;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        input[type="text"], select {
            width: 100%;
            padding: 0.875rem 1rem;
            background: var(--bg-primary);
            border: 2px solid var(--bg-tertiary);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 1rem;
            transition: all 0.2s;
            font-family: inherit;
        }

        input[type="text"]:focus, select:focus {
            outline: none;
            border-color: var(--accent-primary);
            box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.1);
        }

        .btn {
            width: 100%;
            padding: 1rem 1.5rem;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            color: #0f172a;
            border: none;
            border-radius: 8px;
            font-weight: 700;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            position: relative;
            overflow: hidden;
        }

        .btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 10px 20px -5px rgba(245, 158, 11, 0.3);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 2rem;
            color: var(--text-secondary);
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid var(--bg-tertiary);
            border-top: 4px solid var(--accent-primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .competitor-list {
            max-height: 400px;
            overflow-y: auto;
            space-y: 1rem;
        }

        .competitor-item {
            background: var(--bg-primary);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
            transition: all 0.2s;
            position: relative;
            overflow: hidden;
        }

        .competitor-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 4px;
            background: var(--accent-primary);
            opacity: 0;
            transition: opacity 0.2s;
        }

        .competitor-item:hover::before {
            opacity: 1;
        }

        .competitor-url {
            font-size: 0.75rem;
            color: var(--text-muted);
            margin-bottom: 0.25rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .competitor-title {
            color: #93c5fd;
            font-weight: 600;
            font-size: 1rem;
            margin-bottom: 0.5rem;
            line-height: 1.4;
        }

        .competitor-meta {
            font-size: 0.875rem;
            color: var(--text-secondary);
            line-height: 1.5;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .rank-badge {
            display: inline-block;
            padding: 0.125rem 0.5rem;
            background: var(--bg-tertiary);
            color: var(--accent-primary);
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 700;
            margin-right: 0.5rem;
        }

        .results-section {
            margin-top: 2rem;
        }

        .generated-item {
            background: var(--bg-primary);
            border: 2px solid var(--border);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            position: relative;
            transition: all 0.2s;
        }

        .generated-item:hover {
            border-color: var(--accent-primary);
            transform: translateX(4px);
        }

        .generated-label {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            background: rgba(245, 158, 11, 0.1);
            color: var(--accent-primary);
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            margin-bottom: 1rem;
            letter-spacing: 0.05em;
        }

        .generated-title {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 0.75rem;
            line-height: 1.4;
            font-family: Georgia, serif;
        }

        .generated-desc {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        .stats-row {
            display: flex;
            gap: 1.5rem;
            font-size: 0.875rem;
            color: var(--text-muted);
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid var(--bg-tertiary);
        }

        .stat {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .stat.good {
            color: var(--success);
        }

        .stat.warning {
            color: var(--warning);
        }

        .copy-btn {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: var(--bg-tertiary);
            border: 1px solid var(--border);
            color: var(--text-primary);
            padding: 0.5rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.875rem;
            font-weight: 600;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .copy-btn:hover {
            background: var(--accent-primary);
            color: #0f172a;
            border-color: var(--accent-primary);
        }

        .analysis-badges {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .badge {
            padding: 0.25rem 0.75rem;
            background: var(--bg-tertiary);
            border-radius: 20px;
            font-size: 0.8rem;
            color: var(--text-secondary);
            border: 1px solid var(--border);
        }

        .badge.highlight {
            background: rgba(245, 158, 11, 0.15);
            color: var(--accent-primary);
            border-color: var(--accent-primary);
        }

        .serp-preview {
            background: white;
            color: #202124;
            padding: 1.5rem;
            border-radius: 8px;
            margin-top: 1rem;
            font-family: Arial, sans-serif;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .serp-url {
            color: #202124;
            font-size: 14px;
            line-height: 1.3;
            margin-bottom: 4px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .serp-title {
            color: #1a0dab;
            font-size: 20px;
            line-height: 1.3;
            text-decoration: none;
            display: block;
            margin-bottom: 8px;
            cursor: pointer;
        }

        .serp-title:hover {
            text-decoration: underline;
        }

        .serp-desc {
            color: #4d5156;
            font-size: 14px;
            line-height: 1.58;
            word-wrap: break-word;
        }

        .serp-keyword {
            font-weight: bold;
        }

        .empty-state {
            text-align: center;
            padding: 3rem;
            color: var(--text-muted);
        }

        .empty-state-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            opacity: 0.5;
        }

        .tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            border-bottom: 2px solid var(--bg-tertiary);
            padding-bottom: 0.5rem;
        }

        .tab {
            padding: 0.5rem 1rem;
            background: transparent;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            font-weight: 600;
            border-radius: 6px;
            transition: all 0.2s;
        }

        .tab.active {
            background: rgba(245, 158, 11, 0.1);
            color: var(--accent-primary);
        }

        .tab:hover:not(.active) {
            color: var(--text-primary);
            background: var(--bg-tertiary);
        }

        .hidden {
            display: none;
        }

        .score-circle {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: conic-gradient(var(--accent-primary) calc(var(--score) * 1%), var(--bg-tertiary) 0);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.1rem;
            position: relative;
            margin: 1rem auto;
        }

        .score-circle::before {
            content: '';
            width: 50px;
            height: 50px;
            background: var(--bg-secondary);
            border-radius: 50%;
            position: absolute;
        }

        .score-text {
            position: relative;
            z-index: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>SERP Meta Optimizer</h1>
            <p class="subtitle">Analyze top 10 competitors & generate SEO-optimized meta tags</p>
        </header>

        <div class="main-grid">
            <!-- Input Section -->
            <div class="card">
                <div class="card-header">
                    <div class="card-icon">üîç</div>
                    <h2>Keyword Analysis</h2>
                </div>

                <div class="input-group">
                    <label for="keyword">Primary Keyword</label>
                    <input type="text" id="keyword" placeholder="e.g., best running shoes 2024" autocomplete="off">
                </div>

                <div class="input-group">
                    <label for="intent">Search Intent</label>
                    <select id="intent">
                        <option value="informational">Informational (Learn/Know)</option>
                        <option value="transactional">Transactional (Buy/Purchase)</option>
                        <option value="navigational">Navigational (Brand/Website)</option>
                        <option value="commercial">Commercial Investigation (Compare)</option>
                    </select>
                </div>

                <div class="input-group">
                    <label for="brand">Brand Name (optional)</label>
                    <input type="text" id="brand" placeholder="e.g., Runner's World">
                </div>

                <button class="btn" onclick="analyzeKeyword()">
                    Analyze Competitors & Generate
                </button>

                <div class="loading" id="loading">
                    <div class="spinner"></div>
                    <p>Scrambling SERP data...</p>
                    <p style="font-size: 0.875rem; margin-top: 0.5rem;">Analyzing top 10 ranking factors</p>
                </div>
            </div>

            <!-- Competitor Analysis -->
            <div class="card">
                <div class="card-header">
                    <div class="card-icon">üìä</div>
                    <h2>SERP Competitors</h2>
                </div>
                
                <div id="competitorContent">
                    <div class="empty-state">
                        <div class="empty-state-icon">üï∏Ô∏è</div>
                        <p>Enter a keyword to analyze top 10 ranking pages</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Results Section -->
        <div class="results-section hidden" id="resultsSection">
            <div class="card">
                <div class="card-header">
                    <div class="card-icon">‚ú®</div>
                    <h2>Generated Optimized Meta Tags</h2>
                </div>

                <div class="tabs">
                    <button class="tab active" onclick="switchTab('titles')">Meta Titles</button>
                    <button class="tab" onclick="switchTab('descriptions')">Meta Descriptions</button>
                </div>

                <div id="titlesTab">
                    <!-- Generated titles will appear here -->
                </div>

                <div id="descriptionsTab" class="hidden">
                    <!-- Generated descriptions will appear here -->
                </div>

                <div style="margin-top: 2rem; padding-top: 2rem; border-top: 2px solid var(--bg-tertiary);">
                    <h3 style="margin-bottom: 1rem; color: var(--text-secondary);">SERP Preview</h3>
                    <div class="serp-preview" id="serpPreview">
                        <div class="serp-url">
                            <span>https://www.example.com</span> ‚Ä∫ <span>best-running-shoes</span>
                            <span style="margin-left: auto; color: #70757a;">‚ñº</span>
                        </div>
                        <a href="#" class="serp-title" id="previewTitle">Best Running Shoes 2024: Top Picks for Every Runner | BrandName</a>
                        <div class="serp-desc" id="previewDesc">
                            Discover the <strong>best running shoes</strong> of 2024 with our expert reviews. Compare top-rated models for marathon training, trail running, and daily jogging. Find your perfect fit today.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Simulated competitor database for realistic SERP simulation
        const competitorTemplates = {
            informational: [
                { domain: 'runnersworld.com', title: '10 Best Running Shoes of 2024 | Tested & Reviewed', meta: 'We tested 50+ running shoes to find the best options for every type of runner. Expert reviews, buying guide, and top picks for 2024 included.' },
                { domain: 'nytimes.com', title: 'The 8 Best Running Shoes for Every Type of Run | Wirecutter', meta: 'After 200+ miles of testing, these are the most comfortable, durable running shoes for road running, trails, and marathons.' },
                { domain: 'healthline.com', title: 'Best Running Shoes: 2024 Top Picks for Comfort & Performance', meta: 'A comprehensive guide to choosing running shoes that prevent injury and improve performance. Podiatrist-approved recommendations.' },
                { domain: 'verywellfit.com', title: 'The 9 Best Running Shoes of 2024, Tested by Certified Trainers', meta: 'Our certified personal trainers tested the top running shoes for cushioning, stability, and durability. Find the perfect pair for your gait.' },
                { domain: 'runrepeat.com', title: 'Best Running Shoes (2024): 198 Shoes Tested & Compared', meta: 'Lab-tested running shoes with detailed breakdowns of cushioning, flexibility, and breathability. Filter by arch type and running style.' }
            ],
            transactional: [
                { domain: 'amazon.com', title: 'Running Shoes - Best Sellers & Deals 2024', meta: 'Shop top-rated running shoes with free shipping. Brands: Nike, Adidas, Brooks, New Balance. Prices starting from $49.99.' },
                { domain: 'nike.com', title: 'Running Shoes for Men & Women | Nike Official Site', meta: 'Discover high-performance running shoes designed for speed and comfort. Free returns and Nike membership benefits available.' },
                { domain: 'rei.com', title: 'Running Shoes | Trail & Road Running Footwear | REI Co-op', meta: 'Find the perfect running shoes for trail or road. Expert advice, member rewards, and sustainable gear options. Shop now.' },
                { domain: 'zappos.com', title: 'Running Shoes + FREE SHIPPING | Shoes | Zappos.com', meta: 'Free shipping BOTH ways on running shoes from top brands. 365-day return policy and 24/7 customer service.' }
            ],
            commercial: [
                { domain: 'runnersworld.com', title: 'Best Running Shoes 2024: Compare Top Models & Prices', meta: 'Compare features, prices, and reviews of the year\'s best running shoes. Expert buying guide to help you choose the right pair.' },
                { domain: 'outdoorgearlab.com', title: 'Best Running Shoes of 2024 | Buying Guide & Reviews', meta: 'We bought and tested the top 12 running shoes available today. Independent reviews to help you make the best investment.' },
                { domain: 'switchbacktravel.com', title: 'Best Running Shoes of 2024 | Trail & Road Reviewed', meta: 'From ultra-cushioned to barefoot-style, we break down the best running shoes for every budget and running style.' }
            ],
            navigational: [
                { domain: 'brooks.com', title: 'Brooks Running Shoes: Official Website', meta: 'Find your perfect run with Brooks. Shop performance running shoes, apparel, and gear. Free shipping on orders over $100.' },
                { domain: 'nike.com', title: 'Nike Running Shoes. Nike.com', meta: 'Shop the latest Nike running shoes including Pegasus, Vaporfly, and Invincible. Customize your pair today.' }
            ]
        };

        let currentData = null;

        function analyzeKeyword() {
            const keyword = document.getElementById('keyword').value.trim();
            const intent = document.getElementById('intent').value;
            const brand = document.getElementById('brand').value.trim();

            if (!keyword) {
                alert('Please enter a primary keyword');
                return;
            }

            // Show loading
            document.getElementById('loading').style.display = 'block';
            document.getElementById('resultsSection').classList.add('hidden');

            // Simulate API delay
            setTimeout(() => {
                const competitors = generateCompetitors(keyword, intent);
                displayCompetitors(competitors);
                
                const suggestions = generateSuggestions(keyword, intent, brand, competitors);
                displaySuggestions(suggestions, keyword);
                
                document.getElementById('loading').style.display = 'none';
                document.getElementById('resultsSection').classList.remove('hidden');
                
                // Smooth scroll to results
                document.getElementById('resultsSection').scrollIntoView({ behavior: 'smooth' });
            }, 1500);
        }

        function generateCompetitors(keyword, intent) {
            const templates = competitorTemplates[intent] || competitorTemplates.informational;
            const competitors = [];
            
            for (let i = 0; i < 10; i++) {
                const template = templates[i % templates.length];
                const variation = Math.random() > 0.5 ? Math.floor(Math.random() * 20) + 5 : '';
                const year = new Date().getFullYear();
                
                competitors.push({
                    rank: i + 1,
                    url: `https://www.${template.domain}/${keyword.replace(/\s+/g, '-')}`,
                    title: template.title
                        .replace('2024', year)
                        .replace(/10|8|9/, variation || (i + 5)),
                    meta: template.meta,
                    ctr: (15 - i * 1.2).toFixed(1) + '%'
                });
            }
            
            return competitors;
        }

        function displayCompetitors(competitors) {
            const container = document.getElementById('competitorContent');
            container.innerHTML = competitors.map(comp => `
                <div class="competitor-item">
                    <div class="competitor-url">
                        <span class="rank-badge">#${comp.rank}</span>
                        ${comp.url}
                        <span style="margin-left: auto; color: var(--success);">CTR: ${comp.ctr}</span>
                    </div>
                    <div class="competitor-title">${comp.title}</div>
                    <div class="competitor-meta">${comp.meta}</div>
                </div>
            `).join('');
        }

        function generateSuggestions(keyword, intent, brand, competitors) {
            const year = new Date().getFullYear();
            const brandSuffix = brand ? ` | ${brand}` : '';
            const capitalizedKeyword = keyword.split(' ').map(w => w.charAt(0).toUpperCase() + w.slice(1)).join(' ');
            
            const patterns = {
                informational: [
                    { type: 'Listicle', formula: `${capitalizedKeyword}: Top 10 Picks for ${year}${brandSuffix}` },
                    { type: 'Guide', formula: `The Complete Guide to ${capitalizedKeyword} (${year})${brandSuffix}` },
                    { type: 'Review', formula: `${capitalizedKeyword} Reviewed: Expert Picks & Buying Advice${brandSuffix}` },
                    { type: 'How-To', formula: `How to Choose the Best ${capitalizedKeyword} [${year} Update]${brandSuffix}` },
                    { type: 'Comparison', formula: `${capitalizedKeyword}: Ultimate Comparison & Reviews${brandSuffix}` }
                ],
                transactional: [
                    { type: 'Deal Focus', formula: `Buy ${capitalizedKeyword} | Best Prices & Free Shipping${brandSuffix}` },
                    { type: 'Selection', formula: `Shop ${capitalizedKeyword} - Top Rated Models ${year}${brandSuffix}` },
                    { type: 'Urgency', formula: `${capitalizedKeyword} Sale: Limited Time Offers${brandSuffix}` },
                    { type: 'Benefit', formula: `Best ${capitalizedKeyword} - Free Returns & Expert Support${brandSuffix}` }
                ],
                commercial: [
                    { type: 'Comparison', formula: `${capitalizedKeyword}: Top 8 Compared & Reviewed (${year})${brandSuffix}` },
                    { type: 'Buyer Guide', formula: `Best ${capitalizedKeyword} Buying Guide (${year})${brandSuffix}` },
                    { type: 'Tested', formula: `${capitalizedKeyword} We Tested: Honest Reviews & Ratings${brandSuffix}` }
                ],
                navigational: [
                    { type: 'Brand', formula: `${capitalizedKeyword} | Official Site${brandSuffix}` },
                    { type: 'Collection', formula: `${capitalizedKeyword} Collection ${year}${brandSuffix}` }
                ]
            };

            const titles = (patterns[intent] || patterns.informational).map((pattern, idx) => {
                const title = pattern.formula;
                const length = title.length;
                let score = 90;
                if (length > 60) score -= 10;
                if (length < 30) score -= 5;
                if (title.includes('2024') || title.includes(year.toString())) score += 5;
                
                return {
                    text: title,
                    type: pattern.type,
                    length: length,
                    score: score,
                    preview: title
                };
            });

            // Generate descriptions
            const descTemplates = [
                `Discover the best ${keyword} with our comprehensive ${year} guide. Expert reviews, comparisons, and buying tips to help you make the right choice. Start here!`,
                `Looking for ${keyword}? We tested top-rated options to find the best value. Detailed reviews, pros/cons, and recommendations for every budget.`,
                `Find your perfect ${keyword} today. Our experts analyzed 50+ models for performance, durability, and value. Free shipping and returns available.`,
                `Ultimate guide to ${keyword} (${year}). Compare features, prices, and read verified reviews. Make an informed decision with our detailed analysis.`,
                `Expert-approved ${keyword} recommendations. Whether you're beginner or pro, find top-rated options with detailed specs and honest reviews.`
            ];

            const descriptions = descTemplates.map((desc, idx) => ({
                text: desc,
                length: desc.length,
                score: desc.length <= 160 ? 95 : desc.length <= 170 ? 85 : 70,
                hasKeyword: desc.toLowerCase().includes(keyword.toLowerCase())
            }));

            return { titles, descriptions };
        }

        function displaySuggestions(suggestions, keyword) {
            // Display titles
            const titlesContainer = document.getElementById('titlesTab');
            titlesContainer.innerHTML = suggestions.titles.map((title, idx) => `
                <div class="generated-item" onclick="updatePreview('${title.text.replace(/'/g, "\\'")}', 'title')">
                    <div class="generated-label">${title.type} Pattern</div>
                    <button class="copy-btn" onclick="event.stopPropagation(); copyToClipboard('${title.text.replace(/'/g, "\\'")}')">
                        üìã Copy
                    </button>
                    <div class="generated-title">${title.text}</div>
                    <div class="stats-row">
                        <div class="stat ${title.length <= 60 ? 'good' : 'warning'}">
                            ${title.length} chars ${title.length > 60 ? '(Truncated risk)' : '(Perfect)'}
                        </div>
                        <div class="stat good">
                            Score: ${title.score}/100
                        </div>
                        <div class="stat">
                            Click to preview ‚Üí
                        </div>
                    </div>
                </div>
            `).join('');

            // Display descriptions
            const descContainer = document.getElementById('descriptionsTab');
            descContainer.innerHTML = suggestions.descriptions.map((desc, idx) => `
                <div class="generated-item" onclick="updatePreview('${desc.text.replace(/'/g, "\\'")}', 'desc')">
                    <div class="generated-label">Variant ${idx + 1}</div>
                    <button class="copy-btn" onclick="event.stopPropagation(); copyToClipboard('${desc.text.replace(/'/g, "\\'")}')">
                        üìã Copy
                    </button>
                    <div class="generated-desc">${desc.text}</div>
                    <div class="stats-row">
                        <div class="stat ${desc.length <= 160 ? 'good' : 'warning'}">
                            ${desc.length} chars ${desc.length > 160 ? '(Truncated risk)' : '(Optimal)'}
                        </div>
                        <div class="stat good">
                            Score: ${desc.score}/100
                        </div>
                    </div>
                </div>
            `).join('');

            // Set initial preview
            if (suggestions.titles.length > 0) {
                updatePreview(suggestions.titles[0].text, 'title', false);
                updatePreview(suggestions.descriptions[0].text, 'desc', false);
            }
        }

        function switchTab(tab) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
            
            if (tab === 'titles') {
                document.getElementById('titlesTab').classList.remove('hidden');
                document.getElementById('descriptionsTab').classList.add('hidden');
            } else {
                document.getElementById('titlesTab').classList.add('hidden');
                document.getElementById('descriptionsTab').classList.remove('hidden');
            }
        }

        function updatePreview(text, type, highlight = true) {
            if (type === 'title') {
                document.getElementById('previewTitle').textContent = text;
                if (highlight) {
                    document.getElementById('previewTitle').style.backgroundColor = '#fff3cd';
                    setTimeout(() => {
                        document.getElementById('previewTitle').style.backgroundColor = 'transparent';
                    }, 300);
                }
            } else {
                const keyword = document.getElementById('keyword').value;
                const highlightedText = text.replace(new RegExp(keyword, 'gi'), match => `<strong>${match}</strong>`);
                document.getElementById('previewDesc').innerHTML = highlightedText;
            }
        }

        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                // Visual feedback
                const btn = event.target;
                const originalText = btn.innerHTML;
                btn.innerHTML = '‚úì Copied!';
                btn.style.background = 'var(--success)';
                setTimeout(() => {
                    btn.innerHTML = originalText;
                    btn.style.background = '';
                }, 2000);
            });
        }

        // Allow Enter key to trigger analysis
        document.getElementById('keyword').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') analyzeKeyword();
        });
    </script>
</body>
</html>